!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=176)}({0:function(e,t){!function(){e.exports=this.React}()},1:function(e,t,n){e.exports=n(20)},100:function(e,t,n){var r=n(171);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},16:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},17:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},171:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},176:function(e,t,n){"use strict";n.r(t);var r,i=n(2),o=n.n(i),a=n(46),c=n(8),l=n.n(c),s=n(0),u=n.n(s),p=new Uint8Array(16);function f(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(p)}var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var v=function(e){return"string"==typeof e&&d.test(e)},m=[],y=0;y<256;++y)m.push((y+256).toString(16).substr(1));var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase();if(!v(n))throw TypeError("Stringified UUID is invalid");return n};var b=function(e,t,n){var r=(e=e||{}).random||(e.rng||f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return h(r)},g=wp.components.Icon,w=wp.i18n,x=w.__,E=w._n,O=w.sprintf,k=function(e){var t=e.conversions,n=void 0===t?null:t,r=e.conversionsLabel,i=void 0===r?null:r,o=e.isLoading,a=e.label,c=void 0===a?null:a,l=e.total,s=e.uniques;return s&&l||!o?s&&l?u.a.createElement("div",{className:"altis-analytics-views"},u.a.createElement("div",{className:"altis-analytics-views__total"},u.a.createElement(g,{icon:"visibility"}),c||O(E("%d unique view, %d total","%d unique views, %d total",s,"altis-experiments"),s,l)),null!==n&&u.a.createElement("div",{className:"altis-analytics-views__conversions"},u.a.createElement(g,{icon:"yes"}),i||O(E("%d conversion","%d conversions",n,"altis-experiments"),n)," ","(",(n/s*100).toFixed(1),"%)")):u.a.createElement("p",{className:"altis-analytics-views"},u.a.createElement(g,{icon:"visibility"})," ",x("No views yet","altis-experiments")):u.a.createElement("p",{className:"altis-analytics-views"},u.a.createElement(g,{icon:"visibility"})," ",x("Loading...","altis-experiments"))},I=wp.data.useSelect,j=wp.i18n,_=j.__,S=j.sprintf,L=function(e){var t=e.clientId,n=I((function(e){return e("core/editor").getCurrentPostId()})),r=I((function(e){return e("analytics/xbs").getViews(t,n)}),[t,n]),i=I((function(e){return e("analytics/xbs").getIsLoading()}),[r]);if(!n)return null;var o=r&&r.loads||0,a=r&&r.views||0,c=r&&r.unique&&r.unique.loads||0,l=r&&r.unique&&r.unique.views||0;return u.a.createElement("div",{className:"altis-experience-block-analytics"},u.a.createElement("h4",null,_("Block Insights","altis-experiments")),u.a.createElement("p",null,_("Statistics shown are for the configured data retention period.","altis-experiments")),u.a.createElement(k,{conversions:l,conversionsLabel:S(_("%d unique block views, %d total","altis-experiments"),l,a),isLoading:i,label:S(_("%d unique page views, %d total","altis-experiments"),c,o),total:o,uniques:c}))},P=n(7),C=n.n(P),N=wp.components.SelectControl,A=wp.i18n.__,V=window.Altis.Analytics.Experiments.Goals||{},B=function(e){var t=e.goal,n=e.onChange,r=Object.entries(V);if(r.length<1)return null;var i=[{label:A("Impressions","altis-experiments"),value:""}].concat(C()(r.map((function(e){var t=l()(e,2),n=t[0];return{label:t[1].label||n,value:n}}))));return u.a.createElement(N,{label:A("Choose a conversion goal","altis-experiments"),options:i,value:t,onChange:n})},R=wp.data.useSelect,D=wp.i18n,T=D._n,q=D.sprintf,F=function(e){var t=e.variant,n=t.attributes,r=n.audience,i=n.fallback,o=R((function(e){return e("core/editor").getCurrentPostId()})),a=R((function(e){var n=e("core/block-editor");return(0,n.getBlockAttributes)((0,n.getBlockRootClientId)(t.clientId)).clientId}),[t.clientId]),c=R((function(e){return e("analytics/xbs").getViews(a,o)}),[a,o]),l=R((function(e){return e("analytics/xbs").getIsLoading()}),[c]);if(!i&&!r)return null;if(!o)return null;var s=r||0,p=(c&&c.audiences||[]).find((function(e){return e.id===s}))||{views:0,unique:{views:0,conversions:0}};return t.attributes.goal?u.a.createElement(k,{conversions:p.unique.conversions,isLoading:l,total:p.views,uniques:p.unique.views}):u.a.createElement(k,{isLoading:l,label:q(T("%d unique view, %d total","%d unique views, %d total",p.unique.views,"altis-experiments"),p.unique.views,p.views),total:p.views,uniques:p.unique.views})},G=n(16),z=n.n(G),M=wp.data.useSelect,W=wp.i18n.__,U=function(e){var t=e.variant,n=e.placeholder,r=void 0===n?null:n,i=!0;t&&"object"===z()(t)||(t={attributes:{}},i=!1);var o=M((function(e){return e("audience").getPost(t.attributes.audience)}),[t.attributes.audience]),a=M((function(e){return e("audience").getIsLoading()}),[]);if(!i)return"";if(t.attributes.fallback)return W("Fallback","altis-experiments");if(!t.attributes.audience)return r||W("Select audience","altis-experiments");var c=o&&o.status||"draft",l=o&&o.title&&o.title.rendered;return"trash"!==c&&l?o.title.rendered:"trash"===c?W("(deleted)","altis-experiments"):o&&o.error&&o.error.message?o.error.message:a?W("Loading...","altis-experiments"):""},Y=Altis.Analytics.components.AudiencePicker,H=wp.components.PanelBody,J=wp.data.useDispatch,Q=wp.i18n.__,$=function(e){var t=e.variant,n=e.placeholder,r=void 0===n?null:n,i=J("core/block-editor").updateBlockAttributes;return t.attributes.fallback?u.a.createElement(H,{title:Q("Fallback","altis-experiments")},u.a.createElement("p",{className:"description"},Q("This variant will be shown as a fallback if no audiences are matched.","altis-experiments")),u.a.createElement(B,{goal:t.attributes.goal,onChange:function(e){return i(t.clientId,{goal:e})}}),u.a.createElement(F,{variant:t})):u.a.createElement(H,{title:u.a.createElement(U,{placeholder:r,variant:t})},u.a.createElement(Y,{audience:t.attributes.audience,onClearSelection:function(){return i(t.clientId,{audience:null})},onSelect:function(e){return i(t.clientId,{audience:e})}}),!t.attributes.audience&&u.a.createElement("p",{className:"description"},Q("You must select an audience for this variant.","altis-experiments")),u.a.createElement(B,{goal:t.attributes.goal,onChange:function(e){return i(t.clientId,{goal:e})}}),u.a.createElement(F,{variant:t}))},K=wp.components.IconButton,X=wp.i18n.__,Z=function(e){var t=e.canRemove,n=e.isFallback,r=e.onCopy,i=e.onRemove;return u.a.createElement("div",{className:"altis-experience-block-header__toolbar"},u.a.createElement(K,{icon:"migrate",title:X("Copy variant","altis-experiments"),onClick:r},X("Copy","altis-experiments")),!n&&u.a.createElement(K,{disabled:!t,icon:"trash",title:X("Remove variant","altis-experiments"),onClick:i}))};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=wp.blocks,re=ne.createBlock,ie=ne.cloneBlock,oe=wp.compose.compose,ae=wp.data,ce=ae.withSelect,le=ae.withDispatch,se=function(e){return oe(ce((function(e,t){var n=t.clientId;return{variants:(0,e("core/block-editor").getBlocks)(n)}})),le((function(e,t,n){return{onAddVariant:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.clientId,o=e("core/block-editor"),a=o.replaceInnerBlocks,c=o.selectBlock,l=n.select("core/block-editor"),s=l.getBlocks,u=re("altis/personalization-variant",te({audience:null,fallback:!1,goal:""},r),[]),p=[u].concat(C()(s(i)));return a(i,p),c(i),u.clientId},onCopyVariant:function(t){var r=e("core/block-editor").replaceInnerBlocks,i=n.select("core/block-editor"),o=i.getBlock,a=i.getBlocks,c=i.getBlockRootClientId,l=o(t),s=ie(l,{audience:null,fallback:!1}),u=c(t),p=a(u),f=p.findIndex((function(e){return e.clientId===t})),d=l.attributes.fallback?f:f+1;return r(u,[].concat(C()(p.slice(0,d)),[s],C()(p.slice(d)))),s.clientId},onRemoveVariant:function(r){var i=t.clientId,o=t.attributes,a=e("core/block-editor").replaceInnerBlocks,c=n.select("core/block-editor").getBlocks;o.fallback||a(i,c(i).filter((function(e){return e.clientId!==r})))}}})))(e)},ue=wp.blockEditor,pe=ue.BlockControls,fe=ue.InnerBlocks,de=ue.InspectorControls,ve=wp.components,me=ve.Button,ye=ve.PanelBody,he=ve.Toolbar,be=wp.i18n,ge=be.__,we=be.sprintf,xe=["altis/personalization-variant"],Ee=se((function(e){var t=e.attributes,n=e.className,r=e.clientId,i=e.isSelected,o=e.onAddVariant,a=e.onCopyVariant,c=e.onRemoveVariant,p=e.setAttributes,f=e.variants;Object(s.useEffect)((function(){t.clientId||p({clientId:b()})}),[t.clientId,p]);var d=f.length>0&&f[0].clientId||null,v=Object(s.useState)(d),m=l()(v,2),y=m[0],h=m[1],g=Object(s.useState)(),w=l()(g,2),x=w[0],E=w[1];Object(s.useEffect)((function(){0===f.length&&h(o({fallback:!0}))}),[f.length,o]);var O=f.findIndex((function(e){return e.clientId===y})),k=[{icon:"plus",title:ge("Add a variant","altis-experiments"),className:"altis-add-variant-button",onClick:function(){return h(o())}}];return u.a.createElement(s.Fragment,null,u.a.createElement(pe,null,u.a.createElement(he,{className:"altis-variants-toolbar",controls:k},u.a.createElement("div",{className:"altis-variants-toolbar__tabs"},f.map((function(e,t){return u.a.createElement(me,{key:"variant-select-".concat(e.clientId),className:"altis-variant-button components-icon-button has-text ".concat(y===e.clientId&&"is-active"),title:ge("Select variant","altis-experiments"),onClick:function(){return h(e.clientId)}},u.a.createElement(U,{placeholder:we(ge("Variant %d","altis-experiments"),t+1),variant:e}))}))))),u.a.createElement(de,null,u.a.createElement("div",{className:"components-panel__body is-opened"},u.a.createElement(L,{clientId:t.clientId}),u.a.createElement(me,{isSecondary:!0,onClick:function(){return h(o())}},ge("Add a variant","altis-experiments"))),f.map((function(e,t){return u.a.createElement($,{key:"variant-settings-".concat(e.clientId),className:"variant-settings-".concat(e.clientId),placeholder:we(ge("Variant %d","altis-experiments"),t+1),variant:e})})),u.a.createElement(ye,{title:ge("Reset Analytics Data","altis-experiments")},u.a.createElement("p",null,u.a.createElement("em",null,ge("Editing an experience block may make the existing analytics data meaningless, for example when changing conversion goals or making significant changes to the content."))),u.a.createElement("p",null,ge("You can reset the tracking data for this block to ensure it is relevant by clicking the button below.")),u.a.createElement(me,{isDestructive:!0,onClick:function(){E(t.clientId),p({clientId:b()})}},ge("Reset","altis-experiments"))," ",x&&u.a.createElement(me,{isLink:!0,isTertiary:!0,onClick:function(){E(null),p({clientId:x})}},ge("Undo","altis-experiments")))),u.a.createElement("style",{dangerouslySetInnerHTML:{__html:'\n\t\t\t\t\t[data-block="'.concat(r,'"] [data-type="altis/personalization-variant"] {\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n\t\t\t\t\t[data-block="').concat(r,'"] [data-type="altis/personalization-variant"][data-block="').concat(y,'"] {\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t')}}),u.a.createElement("div",{className:n},u.a.createElement("div",{className:"wp-core-ui altis-experience-block-header"},u.a.createElement("span",{className:"altis-experience-block-header__title"},ge("Personalized Content","altis-experiments")," ・ ",f.length>0&&u.a.createElement(U,{placeholder:we(ge("Variant %d","altis-experiments"),O+1),variant:f[O]})),i&&u.a.createElement(Z,{canRemove:f.length>1,isFallback:y&&f[O].attributes.fallback,onCopy:function(){return h(a(y))},onRemove:function(){h(0===O?f[O+1].clientId:f[O-1].clientId),c(y)}})),u.a.createElement(fe,{allowedBlocks:xe,renderAppender:!1})))})),Oe=wp.blockEditor.InnerBlocks,ke=function(){return u.a.createElement(Oe.Content,null)},Ie=n(1),je=n.n(Ie),_e=n(100),Se=n.n(_e);function Le(e){var t=function(e,t){if("object"!==z()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z()(t)?t:String(t)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=wp.apiFetch,Ae=wp.data.registerStore,Ve=wp.url.addQueryArgs,Be={FETCH_FROM_API:function(e){return Ne(e.options)},RESPONSE_TO_JSON:function(e){return e.response.json()}},Re={addViews:function(e,t,n){return{type:"ADD_VIEWS",clientId:e,postId:t,views:n}},removeViews:function(e,t){return{type:"REMOVE_VIEWS",clientId:e,postId:t}},setIsLoading:function(e){return{type:"SET_IS_LOADING",isLoading:e}},fetch:function(e){return{type:"FETCH_FROM_API",options:e}},json:function(e){return{type:"RESPONSE_TO_JSON",response:e}}},De={getViews:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.views["".concat(t).concat(n?"-".concat(n):"")]||!1},getIsLoading:function(e){return e.isLoading}},Te={getViews:je.a.mark((function e(t){var n,r,i=arguments;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,e.next=3,Re.setIsLoading(!0);case 3:return e.next=5,Re.fetch({path:Ve("analytics/v1/xbs/".concat(t,"/views"),{post_id:n})});case 5:return r=e.sent,e.next=8,Re.addViews(t,n,r);case 8:return e.abrupt("return",Re.setIsLoading(!1));case 9:case"end":return e.stop()}}),e)}))};Ae("analytics/xbs",{actions:Re,controls:Be,initialState:{views:{},isLoading:!1},reducer:function(e,t){switch(t.type){case"ADD_VIEWS":var n="".concat(t.clientId).concat(t.postId?"-".concat(t.postId):"");return Ce({},e,{views:Ce({},e.views,o()({},n,t.views))});case"REMOVE_VIEWS":var r="".concat(t.clientId).concat(t.postId?"-".concat(t.postId):"");e[r];return Se()(e,[r].map(Le));case"SET_IS_LOADING":return Ce({},e,{isLoading:t.isLoading});default:return e}},resolvers:Te,selectors:De});function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fe=wp.blocks.registerBlockType,Ge=wp.i18n.__,ze=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:Ge("Personalized Content","altis-experiments"),description:Ge("Deliver personalized content to different audiences","altis-experiments"),keywords:[Ge("experience","altis-experiments"),Ge("personalize","altis-experiments"),Ge("conditional","altis-experiments"),Ge("audience","altis-experiments"),Ge("analytics","altis-experiments")],edit:Ee,save:ke},a.settings);Fe(a.name,ze)},18:function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}},19:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},2:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},20:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=g(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function u(){}function p(){}function f(){}var d={};d[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(O([])));m&&m!==t&&n.call(m,i)&&(d=m);var y=f.prototype=u.prototype=Object.create(d);function h(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,a)}))}a(c.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=y.constructor=f,f.constructor=p,f[a]=p.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},h(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i){var o=new b(c(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},h(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},21:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},22:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},23:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},46:function(e){e.exports=JSON.parse('{"name":"altis/personalization","settings":{"category":"altis-experience-blocks","icon":"groups","supports":{"alignWide":true,"html":false,"align":true},"attributes":{"clientId":{"type":"string","required":true}}}}')},7:function(e,t,n){var r=n(21),i=n(22),o=n(23);e.exports=function(e){return r(e)||i(e)||o()}},8:function(e,t,n){var r=n(17),i=n(18),o=n(19);e.exports=function(e,t){return r(e)||i(e,t)||o()}}}));